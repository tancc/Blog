<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>webpack筆記 | Tan&#39;s note</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="這邊內容會包含：

簡單介紹webpack的基本使用方法
常用的loader、pluggin
好用的現成Boilerplate

事前準備首先要先安裝webpack，這裡使用全域安裝來做示範npm i webpack -g //--save 也可使用">
<meta property="og:type" content="article">
<meta property="og:title" content="webpack筆記">
<meta property="og:url" content="http://tancc.github.io/blog/2016/01/17/webpack/index.html">
<meta property="og:site_name" content="Tan's note">
<meta property="og:description" content="這邊內容會包含：

簡單介紹webpack的基本使用方法
常用的loader、pluggin
好用的現成Boilerplate

事前準備首先要先安裝webpack，這裡使用全域安裝來做示範npm i webpack -g //--save 也可使用">
<meta property="og:updated_time" content="2016-01-19T03:19:57.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="webpack筆記">
<meta name="twitter:description" content="這邊內容會包含：

簡單介紹webpack的基本使用方法
常用的loader、pluggin
好用的現成Boilerplate

事前準備首先要先安裝webpack，這裡使用全域安裝來做示範npm i webpack -g //--save 也可使用">
  
    <link rel="alternate" href="/atom.xml" title="Tan&#39;s note" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/blog/css/style.css" type="text/css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog" id="logo">Tan&#39;s note</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
          <a class="main-nav-link" href="https://github.com/tancc">Github</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://tancc.github.io/blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-webpack" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2016/01/17/webpack/" class="article-date">
  <time datetime="2016-01-17T12:29:46.000Z" itemprop="datePublished">2016-01-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      webpack筆記
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        
          <p>這邊內容會包含：</p>
<ul>
<li>簡單介紹webpack的基本使用方法</li>
<li>常用的loader、pluggin</li>
<li>好用的現成Boilerplate</li>
</ul>
<h1 id="u4E8B_u524D_u6E96_u5099"><a href="#u4E8B_u524D_u6E96_u5099" class="headerlink" title="事前準備"></a>事前準備</h1><p>首先要先安裝webpack，這裡使用全域安裝來做示範<br><code>npm i webpack -g //--save 也可使用</code><br> <a id="more"></a></p>
<h1 id="u6A94_u6848_u7D50_u69CB"><a href="#u6A94_u6848_u7D50_u69CB" class="headerlink" title="檔案結構"></a>檔案結構</h1><p>在這裡我使用的檔案結構如下<br>/app<br>　- index.js<br>　- component.js<br>- package.json<br>- webpack.config.js</p>
<p>其中app資料夾存放需要載入的檔案，webpack會將裡面的程式碼打包，而webpack會根據webpack.config.js的內容來建立bundle檔案</p>
<h1 id="Entry_and_Ouput"><a href="#Entry_and_Ouput" class="headerlink" title="Entry and Ouput"></a>Entry and Ouput</h1><p>app中兩個檔案的內容如下<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// component.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> content = <span class="string">'hello world!'</span></span><br><span class="line">  <span class="keyword">return</span> content</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">var</span> component = <span class="built_in">require</span>(<span class="string">'./component'</span>)</span><br><span class="line"><span class="built_in">document</span>.write(component());</span><br></pre></td></tr></table></figure></p>
<p>在這裡我偷懶使用<code>html-webpack-plugin</code>這個plugin來自動產生html檔，當然也是可以自己建<br><code>npm i html-webpack-plugin --save-dev</code><br>而這是目前的<code>webpack.config.js</code>的內容<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlwebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./app/index.js'</span>, <span class="comment">//設定定進入點</span></span><br><span class="line">  output: &#123;                <span class="comment">//設定bundle檔案要建置的路徑與名稱</span></span><br><span class="line">    path: <span class="string">'./build/'</span>, </span><br><span class="line">    filename: <span class="string">'bundle.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> HtmlwebpackPlugin(&#123;</span><br><span class="line">      title: <span class="string">'webpack app'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>接著在terminal輸入<code>webpack</code>就會看到多了build這個資料夾，以及裡頭的兩個檔案bundle.js與index.html了<br>開啟index.html畫面會出現hello world!，這就表示成功了！</p>
<h1 id="Multiple_Entry_Point"><a href="#Multiple_Entry_Point" class="headerlink" title="Multiple Entry Point"></a>Multiple Entry Point</h1><p>當app有多個進入點時，webpack也可個別build<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.config.js</span></span><br><span class="line">...</span><br><span class="line">  entry: &#123;</span><br><span class="line">  component1: <span class="string">'./app/component.js'</span>, <span class="comment">//name: path </span></span><br><span class="line">  component2: <span class="string">'./app/component2.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: <span class="string">'./build/'</span>, </span><br><span class="line">    filename: <span class="string">'[name].js'</span> <span class="comment">//根據name來命名bundle後的檔案</span></span><br><span class="line">  &#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>執行webpack後會發現build資料夾出現的檔案不是bundle.js，而是component1.js 與 component2.js</p>
<h1 id="Loaders"><a href="#Loaders" class="headerlink" title="Loaders"></a>Loaders</h1><p>上面所介紹的是非常基本的功能，根據entry和output的設定將程式碼bundle在一起<br>loader是webpack很重要的一部份，有了loader我們就可以做更多事情，如處理各種靜態檔案stylesheets, images, html template或是transplie ES6等等。</p>
<h2 id="CSS_and_Image"><a href="#CSS_and_Image" class="headerlink" title="-CSS and Image"></a>-CSS and Image</h2><p>要處理css需要安裝<code>css-loader</code>和<code>style-loader</code>這兩個loader<br>而處理圖片需要安裝<code>url-loader</code><br><code>npm i css-loader style-loader url-loader --save-dev</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//style.css</span></span><br><span class="line">body &#123;</span><br><span class="line">  background: cornsilk;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'./style.css'</span>)</span><br><span class="line"><span class="keyword">var</span> img = <span class="built_in">document</span>.createElement(<span class="string">"img"</span>);</span><br><span class="line">img.src = <span class="built_in">require</span>(<span class="string">"./picture.png"</span>);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(img);</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">//webpack.config.js</span></span><br><span class="line">...</span><br><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">  loaders: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: <span class="regexp">/\.css/</span>,       <span class="comment">//使用regular expression來找到符合副檔名的檔案</span></span><br><span class="line">      loader: <span class="string">"style-loader!css-loader"</span>, <span class="comment">//也可使用loaders: ['style', 'css']</span></span><br><span class="line">      include: path.join(__dirname, <span class="string">'app'</span>) <span class="comment">//檔案路徑</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; test: <span class="regexp">/\.(png|jpg)$/</span>, loader: <span class="string">'url-loader?limit=8192'</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br><span class="line">plugins: [</span><br><span class="line">...</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p>如此一來就可以看到頁面載入css了！這裡簡單說明一下loaders的設定，<br><code>test</code>為設定此loader所要處理的檔案類型，使用regular expression來找到符合副檔名的檔案。<br><code>loader</code>就是設定此類型檔案所要使用的loader為何，而在處理時會由右到左來載入，以此為例<code>css-loader</code>會先讀取css檔，再由<code>style-loader</code>將樣式插入html中，而不同的loader間會用’!’來連接。<br><code>include</code>則是可以提高效率其實是可用可不用的，它用來指定檔案的所在地，若不使用webpack就會掃完全部資料夾。<br>而從url-loader這部份可以看到，loader後是可以加上參數的，這裡的<code>limit=8192</code>表示，若圖檔大小大於8192 bytes則會使用Data URL 否則是使用一般的URL。</p>
<h2 id="CSS_Module_and_PostCSS"><a href="#CSS_Module_and_PostCSS" class="headerlink" title="-CSS Module and PostCSS"></a>-CSS Module and PostCSS</h2><p>postcss部分只要安裝<br><code>npm install postcss-loader --save</code><br>除此之外可以再另外裝些好用的工具<br><code>npm install rucksack-css cssnext precss --save</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> rucksack = <span class="built_in">require</span>(<span class="string">'rucksack-css'</span>),</span><br><span class="line">  cssnext = <span class="built_in">require</span>(<span class="string">'cssnext'</span>)</span><br><span class="line">...</span><br><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">  loaders: [&#123;</span><br><span class="line">    test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">    loader: <span class="string">'style-loader!css-loader?modules&amp;importLoaders=1&amp;localIdentName=[name]_[local]_[hash:base64:4]!postcss-loader'</span></span><br><span class="line">  &#125;]</span><br><span class="line">&#125;,</span><br><span class="line">postcss: [</span><br><span class="line">  cssnext,    <span class="comment">//可以使用下一代css的語法</span></span><br><span class="line">  rucksack(&#123;  <span class="comment">//css可以省略前綴</span></span><br><span class="line">    autoprefixer: <span class="literal">true</span></span><br><span class="line">  &#125;),</span><br><span class="line">  precss <span class="comment">//使你可以寫sass-like的css</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure></p>
<p><code>css-loader?modules</code>這樣子就可以使用css module了，而後面則是去設定名稱和使用postcss<br>postcss的詳細介紹看<a href="https://github.com/postcss/postcss" target="_blank" rel="external">這裡</a></p>
<h2 id="JS_and_JSX"><a href="#JS_and_JSX" class="headerlink" title="-JS and JSX"></a>-JS and JSX</h2><p>讓webpack可以將ES6轉譯成ES5，寫react可以認得jsx需要裝babel的相關的套件<br><code>npm i babel-core babel-loader babel-preset-es2015 babel-preset-react --save-dev</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//component.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"></span><br><span class="line">export default () =&gt; &lt;h1&gt;Hello World&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">//index.js</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span></span><br><span class="line"><span class="keyword">import</span> Hello <span class="keyword">from</span> <span class="string">'./component'</span></span><br><span class="line"> </span><br><span class="line">ReactDOM.render(&lt;Hello /&gt;, document.body);</span><br><span class="line"></span><br><span class="line"><span class="comment">//webpack.config.js</span></span><br><span class="line">...</span><br><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">  loaders: [</span><br><span class="line">    &#123; test: <span class="regexp">/\.jsx?/</span>, loaders: [<span class="string">'babel'</span>], include: path.join(__dirname, <span class="string">'app'</span>) &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br><span class="line">resolve: &#123;  <span class="comment">//require時不用加入副檔名的機制</span></span><br><span class="line">  extensions: [<span class="string">''</span>, <span class="string">'.js'</span>, <span class="string">'.jsx'</span>]</span><br><span class="line">&#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>另外還需要在目錄增加一個babel的設定檔，<code>.babelrc</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//.babelrc</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"presets"</span>: [<span class="string">"es2015"</span>,<span class="string">"react"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>當然這部份也是可以直接寫在webpack.config.js的loaders中(<code>babel?presets[]=react,presets[]=es2015</code>)，但如此一來只有webpack可以使用這設定其他工具則不行。</p>
<h1 id="wepack-dev-server"><a href="#wepack-dev-server" class="headerlink" title="wepack-dev-server"></a>wepack-dev-server</h1><p>一個小型的express server，主要的好處就是即時更新，不要再跑回瀏覽器ctrl-r了。<br><code>npm i webpack-dev-server --save-dev</code><br>安裝完後只要執行<code>webpack-dev-server</code>就行了，到<a href="http://localhost:8080/webpack-dev-server/" target="_blank" rel="external">http://localhost:8080/webpack-dev-server/</a> 就可看到畫面。詳細的介紹可以看<a href="https://webpack.github.io/docs/webpack-dev-server.html" target="_blank" rel="external">webpack-dev-server</a>。<br>執行wepack-dev-server時並不會編譯出實體的bundle.js檔，而是會放在記憶體中。這也就是說當時既要deploy的時候必須再把bundle檔生出來。<br>通常在使用的時候會先去設定package.json<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//package.json</span></span><br><span class="line">...</span><br><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"start"</span>: <span class="string">"webpack-dev-server --devtool eval --hot --inline --progress --colors --content-base build"</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<p><code>--devtool</code>是用來產生Sourcemaps檔，能比較好debugger<br><code>--hot</code> 加上HotModuleReplacementPlugin，更新模式變成hot mode<br><code>--inline</code> 遷入webpack-dev-server到bundle中<br><code>--progress --colors</code>方便看執行狀況<br><code>--content-base</code>一般情況會處理當前目錄，但有設定的話就是說”我的index.html在XXX這個資料夾，並且要將產生的bundle.js放在這，如果有設定<code>publicPath</code>的話bundle.js的路徑會為/publicPath/bundle.js”。</p>
<p>如此一來只需要<code>npm run start</code>就能順利執行了！這部份也可以在webpack.config.js中設定<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.config.js</span></span><br><span class="line">...</span><br><span class="line">output: &#123;</span><br><span class="line">  path: <span class="string">'./build'</span>,</span><br><span class="line">  publicPath: <span class="string">'/assets/'</span>, <span class="comment">//編譯後的bundle檔放的地方，若沒有設定的話預設是在contentBase</span></span><br><span class="line">  filename: <span class="string">'bundle.js'</span></span><br><span class="line">&#125;,</span><br><span class="line">devServer: &#123;</span><br><span class="line">  devtool: <span class="string">'eval'</span></span><br><span class="line">  hot: <span class="literal">true</span>,</span><br><span class="line">  inline: <span class="literal">true</span>,</span><br><span class="line">  progress: <span class="literal">true</span>,</span><br><span class="line">  colors: <span class="literal">true</span>,</span><br><span class="line">  contentBase: <span class="string">'/build/'</span>,</span><br><span class="line">  <span class="comment">//host: 'localhost',</span></span><br><span class="line">  <span class="comment">//post: 8080</span></span><br><span class="line">&#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h1 id="Commons_Chunk_Plugin"><a href="#Commons_Chunk_Plugin" class="headerlink" title="Commons Chunk Plugin"></a>Commons Chunk Plugin</h1><p>當許多支檔案都有共同的區塊(如react, jquery…)，這時候可以使用CommonsChunkPlugin將相同區塊抽出獨立到一支檔案，避免每次都要重複加載。<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const webpack = require(&#39;webpack&#39;)&#10;&#10;module.exports = &#123;&#10;  entry: &#123;&#10;    bundle: &#39;./app/index.js&#39;,&#10;    vendor: [&#39;react&#39;]&#10;  &#125;,&#10;  output: &#123;&#10;    path: &#39;./build&#39;,&#10;    filename: &#39;[name].js&#39;&#10;  &#125;,&#10;  resolve: &#123;&#10;    extensions: [&#39;&#39;, &#39;.js&#39;, &#39;.jsx&#39;]&#10;  &#125;,&#10;  plugins: [&#10;    new webpack.optimize.CommonsChunkPlugin(&#39;vendor&#39;, &#39;vendor.js&#39;) //&#26377;&#35373;&#23450;vendor&#10;    // new webpack.optimize.CommonsChunkPlugin(&#39;common.js&#39;) //&#27794;&#26377;vendor&#10;  ]&#10;&#125;&#10;...</span><br></pre></td></tr></table></figure></p>
<p>而html中記得<code>&lt;script src=&quot;vendor.js&quot;&gt;</code>要先載入，否則會出錯！！<br>其中若是沒有vendor的話，webpack會自動去看entry的檔案，若有重複require的模組則會自動把他抽出放到common.js中。</p>
<h1 id="Provide_Plugin"><a href="#Provide_Plugin" class="headerlink" title="Provide Plugin"></a>Provide Plugin</h1><p>如果有些模組你想讓他在每個檔案都可以使用，而不用一直去require的話，可以使用ProvidePlugin。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//index.js</span></span><br><span class="line">$(<span class="string">'h1'</span>).text(<span class="string">'Hello World'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line">plugins: [</span><br><span class="line">  <span class="keyword">new</span> webpack.ProvidePlugin(&#123;</span><br><span class="line">    $: <span class="string">"jquery"</span>,</span><br><span class="line">    jQuery: <span class="string">"jquery"</span>,</span><br><span class="line">    <span class="string">"window.jQuery"</span>: <span class="string">"jquery"</span></span><br><span class="line">  &#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<h1 id="Extract_Text_Plugin"><a href="#Extract_Text_Plugin" class="headerlink" title="Extract Text Plugin"></a>Extract Text Plugin</h1><p>若沒有使用其他plugin的話，webpack會在html中生成style這tag，然後把css塞進去。若要額外將css檔案抽出成一個檔案的話可以用這個pluggin。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.config.js</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">const</span> ExtractTextPlugin = <span class="built_in">require</span>(<span class="string">"extract-text-webpack-plugin"</span>)</span><br><span class="line">...</span><br><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">  loaders: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: <span class="regexp">/\.css/</span>,</span><br><span class="line">      loader: ExtractTextPlugin.extract(<span class="string">"style"</span>,<span class="string">"css"</span>),</span><br><span class="line">      include: path.join(__dirname, <span class="string">'app'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br><span class="line">plugins: [</span><br><span class="line">  <span class="keyword">new</span> ExtractTextPlugin(<span class="string">'/stylesheets/bundle.css'</span>, &#123;allChunks: <span class="literal">true</span>&#125;)  <span class="comment">//設定檔名</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p>然後html的head中加入<code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;..//stylesheets/bundle.css&quot;&gt;</code>。其他<a href="https://github.com/webpack/extract-text-webpack-plugin" target="_blank" rel="external">詳細設定</a></p>
<h1 id="Boilerplate"><a href="#Boilerplate" class="headerlink" title="Boilerplate"></a>Boilerplate</h1><p>目前有看到比較好用的是這兩個，基本上可以就直接拿來用不用去經過太多煩複的設定。<br><a href="https://github.com/gaearon/react-transform-boilerplate" target="_blank" rel="external">react-transform-boilerplate</a><br><a href="https://github.com/tj/frontend-boilerplate" target="_blank" rel="external">frontend-boilerplate</a></p>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>基本上的設定就這樣子，很多地方有不同的寫法，但都大同小異。<br>在設定時比較需要注意的是路徑問題，常常因為路徑沒有設好所以東西才會跑不出來。</p>

        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://tancc.github.io/blog/2016/01/17/webpack/" data-id="cikmoz00k000bg5zbotr3xfys" class="article-share-link">Share</a>
      
        <a href="http://tancc.github.io/blog/2016/01/17/webpack/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/webpack/">webpack</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2016/01/20/javascript常見誤區/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Javascript常見誤區
        
      </div>
    </a>
  
  
    <a href="/blog/2016/01/14/linux指令筆記/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">linux指令筆記</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/aws/">aws</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/ec2/">ec2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/react/">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/react-router/">react-router</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/webpack/">webpack</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/blog/tags/aws/" style="font-size: 15px;">aws</a> <a href="/blog/tags/ec2/" style="font-size: 15px;">ec2</a> <a href="/blog/tags/javascript/" style="font-size: 20px;">javascript</a> <a href="/blog/tags/linux/" style="font-size: 15px;">linux</a> <a href="/blog/tags/react/" style="font-size: 10px;">react</a> <a href="/blog/tags/react-router/" style="font-size: 10px;">react-router</a> <a href="/blog/tags/webpack/" style="font-size: 10px;">webpack</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/02/">二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/01/">一月 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2016/02/14/react-router-context/">react-router無法使用context</a>
          </li>
        
          <li>
            <a href="/blog/2016/02/02/js-ninja-note/">忍者：Javascript開發技巧探究 筆記</a>
          </li>
        
          <li>
            <a href="/blog/2016/01/29/js-partial-curry/">partial application 和 currying</a>
          </li>
        
          <li>
            <a href="/blog/2016/01/26/ec2同步本地端檔案/">ec2同步本地端檔案</a>
          </li>
        
          <li>
            <a href="/blog/2016/01/24/javascript-oo/">JS中的物件導向</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Tan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
    <a href="https://github.com/tancc" class="mobile-nav-link">Github</a>
  
</nav>
    
<script>
  var disqus_shortname = 'tansnote';
  
  var disqus_url = 'http://tancc.github.io/blog/2016/01/17/webpack/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/blog/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>